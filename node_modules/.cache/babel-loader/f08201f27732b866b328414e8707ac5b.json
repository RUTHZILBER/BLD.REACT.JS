{"ast":null,"code":"var _jsxFileName = \"C:\\\\git\\\\BLD.REACT.JS\\\\src\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport './Login.css';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\";\nimport ErrorMessage from './ErrorMessage';\nimport Alert from '@material-ui/lab/Alert';\nimport Collapse from '@material-ui/core/Collapse';\nimport { Redirect, Link } from \"react-router-dom\";\nimport bld from './bld.JPG';\nimport useStyles from './LoginStyles.js';\nimport { setErrorMessageE, setColorE, colorP, setColorP, errorMessageE, errorMessageP, setErrorMessageP, errorMsg, setErrorMsg } from './LoginStyles.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction mapStateToProps(state) {\n  return {\n    userId: state.UserId,\n    userName: state.UserName,\n    firstName: state.FirstName,\n    lastName: state.LastName,\n    email: state.Email,\n    password: state.Password,\n    nothingTime: state.NotingTime,\n    comment: state.Comment\n  };\n}\n\nfunction Copyright() {\n  return /*#__PURE__*/_jsxDEV(Typography, {\n    className: \"niceFont\",\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    children: \"\\u05EA\\u05D5\\u05D3\\u05D4 \\u05DC\\u05D1\\u05D5\\u05E8\\u05D0 \\u05E2\\u05D5\\u05DC\\u05DD\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Copyright;\nexport default withRouter(connect(mapStateToProps)(_s(function SignInSide(props) {\n  _s();\n\n  const {\n    userName,\n    password,\n    dispatch,\n    history\n  } = props;\n\n  function login() {\n    debugger;\n\n    if (isValidatePassword(usr.Password) && isValidateEmail(usr.Email)) {\n      checkUser();\n    } else {\n      if (!isValidateEmail(usr.Email)) {\n        var newEror = \" נא הקש כתובת מייל תקינה\";\n        setErrorMessageE(newEror);\n        setColorE(\"red\");\n      }\n\n      if (!isValidatePassword(usr.Password)) {\n        var newEror = \" הסיסמא פותחת בתו מיוחד: @# ולאחריו לפחות 5 תווים \";\n        setErrorMessageP(newEror);\n        setColorP(\"red\");\n      }\n    }\n  }\n\n  const [usr, setUsr] = useState({\n    Email: \"\",\n    Password: \"\"\n  });\n\n  function handleTyping(event, prop) {\n    hideErrorMessage();\n    var cloneUser = { ...usr\n    };\n    cloneUser[prop] = event.target.value;\n    setUsr(cloneUser);\n\n    if (prop == \"Email\") {\n      setColorE(\"blue\");\n      setErrorMessageE(\"\");\n    }\n\n    if (prop == \"Password\") {\n      setColorP(\"blue\");\n      setErrorMessageP(\"\");\n    }\n  }\n\n  function checkUser() {\n    // debugger;\n    fetch(\"http://localhost:62135/api/values/checkUser\", {\n      method: \"post\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(usr)\n    }).then(res => res.json()).then(res => {\n      debugger;\n      debugger;\n\n      if (res.Status == true) {\n        //פרטי המשתמש נכונים\n        debugger;\n        setErrorMsg('');\n        res.Data.comment = \"private\";\n        dispatch({\n          type: 'SET_USER',\n          payload: res.Data\n        }); //עדכון הסטור בפרטים הנ\"ל\n\n        history.push(\"/Home\"); // alert(res.Data.userId);\n      } else {\n        //שגיאה באחד הפרטים\n        debugger;\n        setErrorMsg(res.Message);\n        var errorTextTav2 = res.Message.charAt(0);\n\n        if (errorTextTav2 != 'ה') {\n          setColorP(\"red\");\n          setErrorMessageP(res.Message);\n        } else {\n          setColorE(\"red\");\n          setErrorMessageE(res.Message);\n        } // var newMessage = res.Message;\n        // setErrorMessage(newMessage);\n        // showErrorMessage();\n\n      }\n    }, err => {});\n  }\n\n  const classes = useStyles();\n\n  function showErrorMessage() {\n    //ביטול הצגת הודעת השגיאה\n    setErrorPlay(\"\"); // //למשך 20 שניות הצגת ההודעה\n    // setTimeout(function () {\n    //   var clonePlay=\"\";\n    //   setErrorPlay(clonePlay);\n    // }.bind(this), 20000);\n    // alert(\"hello\");\n  }\n\n  function hideErrorMessage() {\n    //הצגת הודעת השגיאה\n    setErrorPlay(\"none\"); //\n  }\n\n  function isValidateEmail(val) {\n    let regEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (regEmail.test(val)) {\n      return true;\n    } else return false;\n  } //תקינות סיסמא\n\n\n  function isValidatePassword(p) {\n    //use @r\n    // א) הסיסמה צריכה להיות מכילה אות רישיות אחת\n    // ב) זה צריך להתחיל עם אופי מיוחד או @#a\n    // ג) הוא אינו צריך להכיל אותיות תנועה=,u\n    // ד) זה צריך להיות אלפאנומרי.\n    // ה) אורך הסיסמה צריך להיות בין range 8 to 2\n    return /[A-Za-z]/.test(p) && !/[u]/.test(p) && /^[@#a][A-Za-z0-9]{1,7}$/.test(p);\n  }\n\n  const [errorMessage, setErrorMessage] = useState(\"שגיאה\");\n  const [errorPlay, setErrorPlay] = useState(\"none\");\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    className: \"niceFont\",\n    style: {\n      min: 0,\n      style: {\n        textAlign: 'right'\n      }\n    },\n    container: true,\n    component: \"main\",\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      className: \"niceFont\",\n      item: true,\n      xs: false,\n      sm: 4,\n      md: 7,\n      className: classes.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      className: \"niceFont\",\n      item: true,\n      xs: 12,\n      sm: 8,\n      md: 5,\n      component: Paper,\n      elevation: 6,\n      square: true,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"niceFont\",\n        className: classes.paper,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          className: \"niceFont\",\n          component: \"h1\",\n          variant: \"h5\",\n          children: \"LOGIN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          style: {\n            textAlign: 'right'\n          },\n          className: \"niceFont \" + classes.form,\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"niceFont\",\n            className: \"ff\",\n            children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n              message: errorMsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            className: \"ff\",\n            value: usr.Email,\n            onChange: e => {\n              handleTyping(e, \"Email\");\n            },\n            variant: \"outlined\",\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"email\",\n            label: errorMessageE + \" : כתובת מייל \",\n            name: \"email\",\n            autoComplete: \"email\",\n            autoFocus: true,\n            InputProps: {\n              classes: {\n                notchedOutline: classes.borderE\n              }\n            },\n            InputLabelProps: {\n              classes: {\n                root: classes.lableE\n              }\n            },\n            className: \"ff\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n            className: \"ff\",\n            style: {\n              min: 0,\n              style: {\n                textAlign: 'right'\n              }\n            },\n            in: false,\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              className: \"ff\",\n              dir: \"rtl\",\n              style: {\n                display: errorPlay\n              },\n              severity: \"error\",\n              children: errorMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            className: \"ff\",\n            onChange: e => {\n              handleTyping(e, \"Password\");\n            },\n            value: usr.Password,\n            inputProps: {\n              maxLength: 9\n            },\n            variant: \"outlined\",\n            InputProps: {\n              classes: {\n                notchedOutline: classes.borderP\n              }\n            },\n            InputLabelProps: {\n              classes: {\n                root: classes.lableP\n              }\n            },\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            name: \"password\",\n            label: errorMessageP + \" :סיסמא \",\n            type: \"password\",\n            id: \"password\",\n            autoComplete: \"current-password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n            className: \"niceFont\",\n            control: /*#__PURE__*/_jsxDEV(Checkbox, {\n              value: \"remember\",\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 24\n            }, this),\n            label: \"Remember me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"niceFont\",\n            onClick: login,\n            fullWidth: true,\n            type: \"button\",\n            variant: \"contained\",\n            color: \"primary\",\n            className: classes.submit + \"ff\",\n            children: \"\\u05D4\\u05DB\\u05E0\\u05E1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            className: \"niceFont\",\n            container: true,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              className: \"niceFont\",\n              to: \"/NewAccount\",\n              variant: \"body2\",\n              children: \"!\\u05E2\\u05D5\\u05D3 \\u05D0\\u05D9\\u05E0\\u05DA \\u05E8\\u05E9\\u05D5\\u05DD? \\u05D4\\u05E6\\u05D8\\u05E8\\u05E3 \\u05DB\\u05D0\\u05DF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: \"  \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            mt: 5,\n            children: /*#__PURE__*/_jsxDEV(Copyright, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 5\n  }, this);\n}, \"fxHLBHFhoxK6UffgfYIBqrkIWo8=\", false, function () {\n  return [useStyles];\n})));\n\nvar _c;\n\n$RefreshReg$(_c, \"Copyright\");","map":{"version":3,"sources":["C:/git/BLD.REACT.JS/src/Login.js"],"names":["React","useState","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Paper","Box","Grid","Typography","makeStyles","connect","withRouter","ErrorMessage","Alert","Collapse","Redirect","Link","bld","useStyles","setErrorMessageE","setColorE","colorP","setColorP","errorMessageE","errorMessageP","setErrorMessageP","errorMsg","setErrorMsg","mapStateToProps","state","userId","UserId","userName","UserName","firstName","FirstName","lastName","LastName","email","Email","password","Password","nothingTime","NotingTime","comment","Comment","Copyright","SignInSide","props","dispatch","history","login","isValidatePassword","usr","isValidateEmail","checkUser","newEror","setUsr","handleTyping","event","prop","hideErrorMessage","cloneUser","target","value","fetch","method","headers","body","JSON","stringify","then","res","json","Status","Data","type","payload","push","Message","errorTextTav2","charAt","err","classes","showErrorMessage","setErrorPlay","val","regEmail","test","p","errorMessage","setErrorMessage","errorPlay","min","style","textAlign","root","image","paper","form","e","notchedOutline","borderE","lableE","display","maxLength","borderP","lableP","submit"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport './Login.css';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport ErrorMessage from './ErrorMessage';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport bld from './bld.JPG';\r\nimport useStyles from './LoginStyles.js';\r\nimport  { setErrorMessageE,setColorE,colorP, setColorP,errorMessageE,errorMessageP, setErrorMessageP,errorMsg, setErrorMsg} from './LoginStyles.js';\r\n\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    userId: state.UserId,\r\n    userName: state.UserName,\r\n    firstName: state.FirstName,\r\n    lastName: state.LastName,\r\n    email: state.Email,\r\n    password: state.Password,\r\n    nothingTime: state.NotingTime,\r\n    comment: state.Comment\r\n  };\r\n}\r\n\r\nfunction Copyright() {\r\n\r\n  return (\r\n    <Typography className=\"niceFont\" variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      תודה לבורא עולם\r\n    </Typography>\r\n  );\r\n}\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps)(function SignInSide(props) {\r\n  \r\n  const { userName, password, dispatch, history } = props;\r\n  \r\n  function login() {\r\n    debugger;\r\n\r\n    if (isValidatePassword(usr.Password) && isValidateEmail(usr.Email)) {\r\n      checkUser();\r\n\r\n\r\n    }\r\n\r\n    else {\r\n      if (!isValidateEmail(usr.Email)) {\r\n        var newEror = \" נא הקש כתובת מייל תקינה\";\r\n        setErrorMessageE(newEror);\r\n        setColorE(\"red\");\r\n      }\r\n      if (!isValidatePassword(usr.Password)) {\r\n        var newEror = \" הסיסמא פותחת בתו מיוחד: @# ולאחריו לפחות 5 תווים \";\r\n        setErrorMessageP(newEror);\r\n        setColorP(\"red\");\r\n      }\r\n    }\r\n  }\r\n  const [usr, setUsr] = useState({\r\n\r\n    Email: \"\",\r\n    Password: \"\"\r\n  });\r\n  function handleTyping(event, prop) {\r\n    hideErrorMessage();\r\n    var cloneUser = { ...usr };\r\n    cloneUser[prop] = event.target.value;\r\n    setUsr(cloneUser);\r\n    if (prop == \"Email\") {\r\n      setColorE(\"blue\");\r\n      setErrorMessageE(\"\");\r\n    }\r\n    if (prop == \"Password\") {\r\n      setColorP(\"blue\");\r\n      setErrorMessageP(\"\");\r\n    }\r\n\r\n  }\r\n\r\n  function checkUser() {\r\n    // debugger;\r\n    fetch(\"http://localhost:62135/api/values/checkUser\", {\r\n      method: \"post\",\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(usr)\r\n    })\r\n\r\n      .then(res => res.json())\r\n      .then((res) => {\r\n        debugger;\r\n        debugger;\r\n        if (res.Status == true) {//פרטי המשתמש נכונים\r\n          debugger;\r\n          setErrorMsg('');\r\n          res.Data.comment = \"private\";\r\n          dispatch({ type: 'SET_USER', payload: res.Data });//עדכון הסטור בפרטים הנ\"ל\r\n          \r\n          history.push(\"/Home\");\r\n         // alert(res.Data.userId);\r\n        }\r\n        else {//שגיאה באחד הפרטים\r\n          debugger;\r\n          setErrorMsg(res.Message);\r\n          var errorTextTav2 = res.Message.charAt(0);\r\n          if (errorTextTav2 != 'ה') {\r\n            setColorP(\"red\");\r\n            setErrorMessageP(res.Message);\r\n          }\r\n          else {\r\n            setColorE(\"red\");\r\n            setErrorMessageE(res.Message);\r\n          }\r\n\r\n          // var newMessage = res.Message;\r\n          // setErrorMessage(newMessage);\r\n          // showErrorMessage();\r\n\r\n        }\r\n      },\r\n        (err) => {\r\n\r\n        })\r\n  }\r\n  const classes = useStyles();\r\n\r\n  function showErrorMessage() {//ביטול הצגת הודעת השגיאה\r\n    setErrorPlay(\"\");\r\n\r\n    // //למשך 20 שניות הצגת ההודעה\r\n    // setTimeout(function () {\r\n    //   var clonePlay=\"\";\r\n    //   setErrorPlay(clonePlay);\r\n    // }.bind(this), 20000);\r\n    // alert(\"hello\");\r\n  }\r\n  function hideErrorMessage() {//הצגת הודעת השגיאה\r\n    setErrorPlay(\"none\");//\r\n  }\r\n\r\n  function isValidateEmail(val) {\r\n    let regEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    if (regEmail.test(val)) {\r\n      return true;\r\n    }\r\n    else\r\n      return false;\r\n  }\r\n  //תקינות סיסמא\r\n  function isValidatePassword(p) {\r\n    //use @r\r\n    // א) הסיסמה צריכה להיות מכילה אות רישיות אחת\r\n\r\n    // ב) זה צריך להתחיל עם אופי מיוחד או @#a\r\n\r\n    // ג) הוא אינו צריך להכיל אותיות תנועה=,u\r\n\r\n    // ד) זה צריך להיות אלפאנומרי.\r\n\r\n    // ה) אורך הסיסמה צריך להיות בין range 8 to 2\r\n    return /[A-Za-z]/.test(p) && !/[u]/.test(p) && /^[@#a][A-Za-z0-9]{1,7}$/.test(p);\r\n  }\r\n\r\n  const [errorMessage, setErrorMessage] = useState(\"שגיאה\");\r\n  const [errorPlay, setErrorPlay] = useState(\"none\");\r\n  return (\r\n    \r\n    <Grid className=\"niceFont\" style={{min: 0, style: { textAlign: 'right' }}} container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid className=\"niceFont\" item xs={false} sm={4} md={7} className={classes.image} />\r\n      <Grid className=\"niceFont\" item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <div className=\"niceFont\" className={classes.paper}>\r\n         \r\n          <Typography className=\"niceFont\" component=\"h1\" variant=\"h5\">\r\n            LOGIN\r\n          </Typography>\r\n\r\n          <form  style={{textAlign: 'right'}} className={\"niceFont \"+classes.form }  noValidate>\r\n            <div className=\"niceFont\" className=\"ff\"><ErrorMessage message={errorMsg}/></div>\r\n            <TextField  className=\"ff\" value={usr.Email} onChange={(e) => { handleTyping(e, \"Email\") }}\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label={errorMessageE + \" : כתובת מייל \"}\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n           \r\n              InputProps={{\r\n                classes: {\r\n                  notchedOutline: classes.borderE,\r\n                }\r\n              }}\r\n              InputLabelProps={{\r\n                classes: {\r\n                  root: classes.lableE,\r\n                },\r\n              }}\r\n              className=\"ff\" />\r\n          <Collapse className=\"ff\"  style={{min: 0, style: { textAlign: 'right' }}} in={false}>\r\n              <Alert className=\"ff\"  dir=\"rtl\" style={{display: errorPlay }}  severity=\"error\" >\r\n                {errorMessage}\r\n              </Alert>\r\n            </Collapse>\r\n            <TextField className=\"ff\" onChange={(e) => { handleTyping(e, \"Password\") }} value={usr.Password}\r\n              inputProps={{\r\n                maxLength: 9,\r\n              }}\r\n\r\n           \r\n              variant=\"outlined\"\r\n              InputProps={{\r\n                classes: {\r\n                  notchedOutline: classes.borderP,\r\n                }\r\n              }}\r\n              InputLabelProps={{\r\n                classes: {\r\n                  root: classes.lableP,\r\n                },\r\n              }}\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label={errorMessageP + \" :סיסמא \"}\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n            />\r\n            <FormControlLabel className=\"niceFont\"\r\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n              label=\"Remember me\"\r\n            />\r\n            <Button  className=\"niceFont\"\r\n              onClick={login}\r\n              fullWidth\r\n              type=\"button\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit +\"ff\"}\r\n            >\r\n              הכנס\r\n            </Button>\r\n            <Grid className=\"niceFont\" container>\r\n              <Grid item xs>\r\n\r\n              </Grid>\r\n\r\n              <Link className=\"niceFont\" to=\"/NewAccount\" variant=\"body2\">\r\n\r\n                !עוד אינך רשום? הצטרף כאן\r\n                </Link>\r\n\r\n              <Grid item>  </Grid>\r\n            </Grid>\r\n            <Box mt={5}>\r\n              <Copyright />\r\n            </Box>\r\n          </form>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}))"]},"metadata":{},"sourceType":"module"}