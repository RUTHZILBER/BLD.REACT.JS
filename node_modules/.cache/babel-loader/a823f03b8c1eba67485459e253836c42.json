{"ast":null,"code":"var _jsxFileName = \"C:\\\\GITHUB_PROJECTS\\\\\\u05DE\\u05D7\\u05E9\\u05D1 \\u05E0\\u05D9\\u05D9\\u05D3 9.jpg\\\\src\\\\Table_Row.js\",\n    _s = $RefreshSig$();\n\n//רשומות הטבלה\nimport React, { useState } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Chip from '@material-ui/core/Chip';\nimport Box from '@material-ui/core/Box';\nimport Collapse from '@material-ui/core/Collapse';\nimport IconButton from '@material-ui/core/IconButton';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Typography from '@material-ui/core/Typography';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport MusicNoteIcon from '@material-ui/icons/MusicNote';\nimport GetAppRoundedIcon from '@material-ui/icons/GetAppRounded';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\nimport EventBusyIcon from '@material-ui/icons/EventBusy';\nimport './Table_Row.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useRowStyles = makeStyles({\n  root: {\n    '& > *': {\n      borderBottom: 'unset'\n    }\n  }\n});\n\nfunction downloadSong(e, row, text) {\n  //בלחיצה על הורדה\n  //והורדת כל מילות השיר לתוך קובץ\n  {\n    const element = document.createElement(\"a\");\n    var songi = \"\\n\";\n\n    for (var i = 0; i < row.neatTags.length; i++) {\n      songi = songi + row.neatTags[i] + \"\\n\";\n    }\n\n    element.href = URL.createObjectURL(new Blob([songi], {\n      type: 'text/plain;charset=utf-8'\n    }));\n    element.download = row.songName + \".txt\";\n    document.body.appendChild(element);\n    element.click();\n\n    if (text != \"\") {\n      var str = text;\n      var array = str.split(\" \", 2);\n\n      if (array.length > 1 && array.length < 11) {\n        ////\n        var json4 = JSON.stringify({\n          Text: text,\n          SongId: row.songId\n        });\n        fetch(\"http://localhost:62135/api/values/improveTags\", {\n          method: \"post\",\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: json4\n        }).then(res => res.json()).then(res => {\n          if (res.Status == true) {\n            //  alert(\"entered\");\n            debugger;\n            var arr = res.Data;\n\n            if (res.Status == true) {}\n          } else {// alert(\" not succeed to enter \");\n          }\n        }, err => {//  alert(\" שגיאה \");\n        }); ////\n        // alert(row.songId);\n\n        debugger; //    alert(\"hay1\");\n      }\n    }\n  } ///////////////////////////\n}\n\nfunction mapStateToProps(state) {\n  return {\n    userId: state.UserId,\n    comment: state.Comment,\n    songList: state.SongList\n  };\n}\n\nexport default connect(mapStateToProps)(_s(function Table_Row(props) {\n  _s();\n\n  const {\n    userId,\n    row,\n    text,\n    setText,\n    songList,\n    dispatch,\n    setSeverity,\n    severity,\n    setAlertContent,\n    alertContent,\n    errorPlay,\n    setErrorPlay\n  } = props;\n  const [sizeIcon, setSizeIcon] = useState('large'); //גודל איקון ההורדה\n\n  const [open, setOpen] = React.useState(false);\n  const classes = useRowStyles();\n\n  function showError() {\n    //למשך 10 שניות הצגת ההודעה\n    setTimeout(function () {\n      setErrorPlay(\"none\");\n    }.bind(this), 5000);\n    setErrorPlay(\"\");\n  }\n\n  function deleteSong(e, id) {\n    var songIdDeleting = String(id);\n    fetch(\"http://localhost:62135/api/Song/\" + songIdDeleting, {\n      method: \"delete\",\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(res => {\n      debugger;\n\n      if (res.Status == true) {\n        // alert(res.Message);\n        var theOtherSongs = songList.filter(i => i.songId != id);\n        dispatch({\n          type: 'SET_SONG_LIST',\n          payload: theOtherSongs\n        });\n        setSeverity(\"success\");\n        setAlertContent(res.Message);\n        showError();\n      } else {\n        //   alert(res.Message);\n        setSeverity(\"error\");\n        setAlertContent(res.Message);\n        showError();\n      }\n    }, err => {\n      setSeverity(\"error\");\n      setAlertContent(\"שגיאה\");\n      showError();\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TableRow, {\n      className: \"niceFont\",\n      className: classes.root,\n      id: \"row_id_\" + row.songId,\n      children: [/*#__PURE__*/_jsxDEV(TableCell, {\n        className: \"niceFont\",\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"expand row\",\n          size: \"small\",\n          onClick: () => setOpen(!open),\n          children: open ? /*#__PURE__*/_jsxDEV(KeyboardArrowUpIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(KeyboardArrowDownIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 59\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: e => {\n            //בלחיצה על הורדה\n            //והורדת כל מילות השיר לתוך קובץ\n            {\n              const element = document.createElement(\"a\");\n              var songi = \"\\n\";\n\n              for (var i = 0; i < row.neatTags.length; i++) {\n                songi = songi + row.neatTags[i] + \"\\n\";\n              }\n\n              element.href = URL.createObjectURL(new Blob([songi], {\n                type: 'text/plain;charset=utf-8'\n              }));\n              element.download = row.songName + \".txt\";\n              document.body.appendChild(element);\n              element.click();\n\n              if (text != \"\") {\n                var str = text;\n                var array = str.split(\" \", 2); // כאשר מתבצעת הורדת השיר, יש לשפר את התגית\n\n                if (array.length > 1 && array.length < 11) {\n                  var json4 = JSON.stringify({\n                    Text: text,\n                    SongId: row.songId\n                  });\n                  fetch(\"http://localhost:62135/api/values/improveTags\", {\n                    method: \"post\",\n                    headers: {\n                      'Content-Type': 'application/json'\n                    },\n                    body: json4\n                  }).then(res => res.json()).then(res => {\n                    if (res.Status == true) {} else {}\n                  }, err => {//     alert(\" שגיאה \");\n                  }); // alert(row.songId);\n                }\n              }\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(GetAppRoundedIcon, {\n            id: 'song_' + row.songId,\n            fontSize: sizeIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this), row.userId == userId && /*#__PURE__*/_jsxDEV(IconButton, {\n          children: [/*#__PURE__*/_jsxDEV(DeleteForeverIcon, {\n            onDoubleClick: e => {\n              deleteSong(e, row.songId); // מחיקת שיר בלחיצה על הכפתור פעמיים, רק אם מורשה\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this), \"    \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        className: \"niceFont\",\n        align: \"right\",\n        children: row.neatTags.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        className: \"niceFont\",\n        align: \"right\",\n        style: {\n          fontFamily: 'M PLUS 1p , sans-serif'\n        },\n        children: row.tag3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        className: \"niceFont\",\n        align: \"right\",\n        children: row.tag2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        className: \"niceFont\",\n        align: \"right\",\n        children: row.tag1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        className: \"niceFont\",\n        align: \"right\",\n        children: row.isPermit == true ? /*#__PURE__*/_jsxDEV(AssignmentTurnedInIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 87\n        }, this) : /*#__PURE__*/_jsxDEV(EventBusyIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 114\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        className: \"niceFont\",\n        align: \"right\",\n        children: row.userName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        className: \"niceFont\",\n        component: \"th\",\n        scope: \"row\",\n        children: row.songName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        className: \"niceFont\",\n        style: {\n          display: \"none\"\n        },\n        align: \"right\",\n        children: row.songId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n      children: /*#__PURE__*/_jsxDEV(TableCell, {\n        style: {\n          paddingBottom: 0,\n          paddingTop: 0\n        },\n        colSpan: 6,\n        children: /*#__PURE__*/_jsxDEV(Collapse, {\n          in: open,\n          timeout: \"auto\",\n          unmountOnExit: true,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            margin: 1,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              component: \"div\",\n              style: {\n                display: \"flex\",\n                justifyContent: \"flex-start\",\n                flexDirection: \"row-reverse\",\n                flexWrap: \"wrap\"\n              },\n              children: Object.values(row.neatTags).map((a, index) => /*#__PURE__*/_jsxDEV(Chip, {\n                style: {\n                  margin: \"2px\"\n                },\n                label: a,\n                clickable: true,\n                color: \"primary\",\n                color: \"primary\",\n                size: \"small\",\n                lable: \"ruth\",\n                avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n                  children: [\"  \", /*#__PURE__*/_jsxDEV(MusicNoteIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 221\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 211\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 81\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              size: \"small\",\n              \"aria-label\": \"purchases\",\n              children: /*#__PURE__*/_jsxDEV(TableBody, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 9\n  }, this);\n}, \"UpACT2FW3WoKdWpl8mjPzYizfJ8=\", false, function () {\n  return [useRowStyles];\n}));","map":{"version":3,"sources":["C:/GITHUB_PROJECTS/מחשב נייד 9.jpg/src/Table_Row.js"],"names":["React","useState","Avatar","Chip","Box","Collapse","IconButton","Table","TableBody","TableCell","TableRow","Typography","KeyboardArrowDownIcon","KeyboardArrowUpIcon","MusicNoteIcon","GetAppRoundedIcon","DeleteForeverIcon","connect","makeStyles","AssignmentTurnedInIcon","EventBusyIcon","useRowStyles","root","borderBottom","downloadSong","e","row","text","element","document","createElement","songi","i","neatTags","length","href","URL","createObjectURL","Blob","type","download","songName","body","appendChild","click","str","array","split","json4","JSON","stringify","Text","SongId","songId","fetch","method","headers","then","res","json","Status","arr","Data","err","mapStateToProps","state","userId","UserId","comment","Comment","songList","SongList","Table_Row","props","setText","dispatch","setSeverity","severity","setAlertContent","alertContent","errorPlay","setErrorPlay","sizeIcon","setSizeIcon","open","setOpen","classes","showError","setTimeout","bind","deleteSong","id","songIdDeleting","String","theOtherSongs","filter","payload","Message","fontFamily","tag3","tag2","tag1","isPermit","userName","display","paddingBottom","paddingTop","justifyContent","flexDirection","flexWrap","Object","values","map","a","index","margin"],"mappings":"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","sourcesContent":["//רשומות הטבלה\r\nimport React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Box from '@material-ui/core/Box';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport MusicNoteIcon from '@material-ui/icons/MusicNote';\r\nimport GetAppRoundedIcon from '@material-ui/icons/GetAppRounded';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport { connect } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\r\nimport EventBusyIcon from '@material-ui/icons/EventBusy';\r\nimport './Table_Row.css';\r\n\r\nconst useRowStyles = makeStyles({\r\n    root: {\r\n        '& > *': {\r\n            borderBottom: 'unset',\r\n        },\r\n    },\r\n});\r\n\r\nfunction downloadSong(e, row, text) {\r\n\r\n    //בלחיצה על הורדה\r\n    //והורדת כל מילות השיר לתוך קובץ\r\n\r\n    {\r\n        const element = document.createElement(\"a\");\r\n\r\n        var songi = \"\\n\";\r\n        for (var i = 0; i < row.neatTags.length; i++) {\r\n            songi = songi + row.neatTags[i] + \"\\n\";\r\n        }\r\n\r\n        element.href = URL.createObjectURL(new Blob([songi],\r\n            { type: 'text/plain;charset=utf-8' }));\r\n\r\n        element.download = row.songName + \".txt\";\r\n        document.body.appendChild(element);\r\n        element.click();\r\n        if (text != \"\") {\r\n\r\n            var str = text;\r\n            var array = str.split(\" \", 2);\r\n\r\n            if (array.length > 1 && array.length < 11) {\r\n                ////\r\n\r\n                var json4 = JSON.stringify({ Text: text, SongId: row.songId });\r\n                fetch(\"http://localhost:62135/api/values/improveTags\", {\r\n                    method: \"post\",\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: json4\r\n                })\r\n                    .then(res => res.json())\r\n\r\n                    .then((res) => {\r\n                        if (res.Status == true) {\r\n                          //  alert(\"entered\");\r\n                            debugger;\r\n\r\n                            var arr = res.Data;\r\n                            if (res.Status == true) {\r\n                            }\r\n                        }\r\n\r\n                        else\r\n                        {\r\n                              // alert(\" not succeed to enter \");\r\n                        }\r\n                       \r\n                    },\r\n                        (err) => {\r\n                          //  alert(\" שגיאה \");\r\n                        })\r\n\r\n                ////\r\n               // alert(row.songId);\r\n\r\n                debugger;\r\n            //    alert(\"hay1\");\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n    ///////////////////////////\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        userId: state.UserId,\r\n        comment: state.Comment,\r\n        songList: state.SongList\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(function Table_Row(props) {\r\n\r\n\r\n    const { userId, row, text, setText, songList, dispatch, setSeverity, severity, setAlertContent, alertContent, errorPlay, setErrorPlay } = props;\r\n\r\n    const [sizeIcon, setSizeIcon] = useState('large');//גודל איקון ההורדה\r\n    const [open, setOpen] = React.useState(false);\r\n    const classes = useRowStyles();\r\n\r\n\r\n    function showError() {\r\n\r\n        //למשך 10 שניות הצגת ההודעה\r\n        setTimeout(function () {\r\n            setErrorPlay(\"none\");\r\n\r\n        }.bind(this), 5000);\r\n\r\n        setErrorPlay(\"\");\r\n    }\r\n    function deleteSong(e, id) {\r\n        var songIdDeleting = String(id);\r\n        fetch(\"http://localhost:62135/api/Song/\" + songIdDeleting, {\r\n            method: \"delete\",\r\n            headers: { 'Content-Type': 'application/json' },\r\n\r\n        })\r\n\r\n            .then(res => res.json())\r\n\r\n            .then((res) => {\r\n                debugger;\r\n                if (res.Status == true) {\r\n\r\n                   // alert(res.Message);\r\n\r\n                    var theOtherSongs = songList.filter(i => i.songId != id);\r\n                    dispatch({ type: 'SET_SONG_LIST', payload: theOtherSongs });\r\n\r\n                    setSeverity(\"success\");\r\n                    setAlertContent(res.Message);\r\n                    showError()\r\n\r\n                }\r\n\r\n                else {\r\n                 //   alert(res.Message);\r\n\r\n                    setSeverity(\"error\");\r\n                    setAlertContent(res.Message);\r\n                    showError()\r\n                }\r\n\r\n            },\r\n                (err) => {\r\n\r\n\r\n\r\n                    setSeverity(\"error\");\r\n                    setAlertContent(\"שגיאה\");\r\n                    showError()\r\n                })\r\n    }\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <TableRow  className=\"niceFont\" className={classes.root} id={\"row_id_\" + row.songId}>\r\n                <TableCell  className=\"niceFont\">\r\n\r\n\r\n                    <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\r\n                        {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}{/*אייקון פתיחת רשימת התגיות*/}\r\n                    </IconButton>\r\n\r\n                    {/* IconButton == מעטפת לכל איקון שיהיה מראה לחוץ */}\r\n                    <IconButton onClick={(e) => {\r\n\r\n                        //בלחיצה על הורדה\r\n                        //והורדת כל מילות השיר לתוך קובץ\r\n\r\n                        {\r\n                            const element = document.createElement(\"a\");\r\n\r\n                            var songi = \"\\n\";\r\n                            for (var i = 0; i < row.neatTags.length; i++) {\r\n                                songi = songi + row.neatTags[i] + \"\\n\";\r\n                            }\r\n\r\n                            element.href = URL.createObjectURL(new Blob([songi],\r\n                                { type: 'text/plain;charset=utf-8' }));\r\n\r\n                            element.download = row.songName + \".txt\";\r\n                            document.body.appendChild(element);\r\n                            element.click();\r\n                            if (text != \"\") {\r\n\r\n                                var str = text;\r\n                                var array = str.split(\" \", 2);\r\n                                // כאשר מתבצעת הורדת השיר, יש לשפר את התגית\r\n                                if (array.length > 1 && array.length < 11) {\r\n\r\n                                    var json4 = JSON.stringify({ Text: text, SongId: row.songId });\r\n                                    fetch(\"http://localhost:62135/api/values/improveTags\", {\r\n                                        method: \"post\",\r\n                                        headers: { 'Content-Type': 'application/json' },\r\n                                        body: json4\r\n                                    })\r\n                                        .then(res => res.json())\r\n\r\n                                        .then((res) => {\r\n                                            if (res.Status == true) {\r\n\r\n                                            }\r\n\r\n                                            else {\r\n\r\n                                            }\r\n                                        },\r\n                                            (err) => {\r\n                                           //     alert(\" שגיאה \");\r\n                                            })\r\n\r\n                                   // alert(row.songId);\r\n                                }\r\n\r\n                            }\r\n\r\n                        }\r\n\r\n                    }}>\r\n                        {/* איקון ההורדה */}\r\n                        {<GetAppRoundedIcon id={'song_' + row.songId} fontSize={sizeIcon} >\r\n                        </GetAppRoundedIcon>}</IconButton>\r\n\r\n                    {row.userId == userId && (<IconButton>\r\n\r\n                        <DeleteForeverIcon onDoubleClick={(e) => {\r\n                            deleteSong(e, row.songId);// מחיקת שיר בלחיצה על הכפתור פעמיים, רק אם מורשה\r\n                        }}></DeleteForeverIcon>    {/*אייקון מחיקה*/}\r\n                    </IconButton>)}\r\n\r\n                </TableCell>\r\n                {/* מלוי הטבלה, כל עמודה */}\r\n\r\n                <TableCell className=\"niceFont\" align=\"right\">{row.neatTags.length}</TableCell>\r\n                <TableCell className=\"niceFont\"  align=\"right\" style={{ fontFamily: 'M PLUS 1p , sans-serif' }} >{row.tag3}</TableCell>\r\n                <TableCell className=\"niceFont\"  align=\"right\">{row.tag2}</TableCell>\r\n\r\n                <TableCell className=\"niceFont\"  align=\"right\">{row.tag1}</TableCell>\r\n\r\n                <TableCell className=\"niceFont\"  align=\"right\">{row.isPermit == true ?<AssignmentTurnedInIcon/> :<EventBusyIcon/>}</TableCell>\r\n\r\n                <TableCell className=\"niceFont\"  align=\"right\">{row.userName}</TableCell>\r\n                <TableCell className=\"niceFont\"  component=\"th\" scope=\"row\">{row.songName}</TableCell>\r\n\r\n\r\n                <TableCell className=\"niceFont\"  style={{ display: \"none\" }} align=\"right\">{row.songId}</TableCell>\r\n\r\n                {/*style={{ font-family='Varela Round', sans-serif}}לתוך שורות הטבלה לפי עמודות DB השמת הערכים הדינאמיים מתוך ה*/}\r\n\r\n            </TableRow>\r\n            <TableRow>\r\n                <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n                    <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                        <Box margin={1}>\r\n                            <Typography variant=\"h6\" gutterBottom component=\"div\" style={{ display: \"flex\", justifyContent: \"flex-start\", flexDirection: \"row-reverse\", flexWrap: \"wrap\" }}>\r\n                                {/* מילות השיר כתגיות בתוך התיבה הנפתחת שבטבלה */}\r\n                                {Object.values(row.neatTags).map((a, index) => (<Chip key={index} style={{ margin: \"2px\" }} label={a} clickable color=\"primary\" color=\"primary\" size=\"small\" lable=\"ruth\" avatar={<Avatar>  <MusicNoteIcon></MusicNoteIcon></Avatar>} />))}\r\n                            </Typography>\r\n\r\n                            <Table size=\"small\" aria-label=\"purchases\">\r\n\r\n                                <TableBody>\r\n\r\n                                </TableBody>\r\n                            </Table>\r\n                        </Box>\r\n                    </Collapse>\r\n                </TableCell>\r\n            </TableRow>\r\n\r\n        </React.Fragment>\r\n    );\r\n})"]},"metadata":{},"sourceType":"module"}